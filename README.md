# 万能复制粘贴板

一个功能强大的浏览器扩展，可以记录你复制过的内容，完全保留原始格式，方便随时查看和重复使用。

## 功能特点

- 自动记录复制的内容，完整保留原始格式（包括字体、颜色、大小等）
- 智能识别特殊格式（Markdown、JSON、代码块等）
- 按照时间顺序展示复制历史
- 支持搜索历史记录
- 显示每条内容的复制次数
- 一键复制任何历史记录（保留原格式）
- **智能粘贴**：自动定位光标位置，支持富文本编辑器
- 支持删除单条记录或清空全部
- **侧边栏模式**：点击扩展图标自动打开侧边栏，边浏览边使用
- 支持快捷键操作
- **安全增强**：防止XSS攻击，保障安全使用

## 安装方法

### Chrome浏览器

1. 下载并解压此扩展文件夹
2. 打开Chrome浏览器，进入扩展管理页面（在地址栏输入 `chrome://extensions/`）
3. 开启右上角的"开发者模式"
4. 点击"加载已解压的扩展程序"按钮
5. 选择解压后的扩展文件夹

### Edge浏览器

1. 下载并解压此扩展文件夹
2. 打开Edge浏览器，进入扩展管理页面（在地址栏输入 `edge://extensions/`）
3. 开启左下角的"开发人员模式"
4. 点击"加载解压缩的扩展"按钮
5. 选择解压后的扩展文件夹

## 使用方法

### 侧边栏模式（默认模式）

1. 安装扩展后，点击浏览器右上角的扩展图标
2. 侧边栏会自动在浏览器右侧打开
3. 当你复制网页内容时，扩展会自动记录并完整保留原始格式
4. 你可以在侧边栏中:
   - 搜索历史记录
   - 点击“复制”按钮复制内容（包括完整格式）
   - 点击“粘贴”按钮将内容智能粘贴到当前页面（自动定位光标位置）
   - 点击“删除”按钮删除不需要的记录
   - 点击“清空全部”按钮删除所有记录
5. 也可以右键选中文本，选择“保存到万能粘贴板”手动添加（会保留完整格式）

### 弹出窗口模式（可选）

如果你希望使用弹出窗口而不是侧边栏，可以修改扩展的 manifest.json 文件，添加 `default_popup` 配置。

1. 使用快捷键 `Ctrl+Shift+Y`（Mac上是 `Command+Shift+Y`）打开弹出窗口
2. 所有功能与侧边栏模式相同，但弹出窗口会在点击其他位置时自动关闭

### 快捷键

- `Ctrl+Shift+Y`（Mac上是 `Command+Shift+Y`）：打开弹出窗口
- `Ctrl+Shift+U`（Mac上是 `Command+Shift+U`）：打开侧边栏

## 格式支持

扩展支持保留大多数常见格式，包括但不限于:

- 基本文本格式（加粗、斜体、下划线等）
- 链接
- 表格
- 代码块
- 列表
- 图片引用链接
- JSON、XML等结构化数据
- Markdown格式

复制格式的保留取决于:
1. 源网站如何实现复制功能
2. 浏览器的复制实现
3. 目标网站的粘贴支持

## 权限说明

本扩展需要以下权限才能正常工作：

- `storage`: 用于存储复制历史
- `clipboardRead`: 读取剪贴板内容
- `clipboardWrite`: 写入剪贴板内容
- `contextMenus`: 创建右键菜单项
- `tabs`: 允许在标签页间通信以支持粘贴功能
- `sidePanel`: 支持侧边栏功能
- `scripting`: 允许执行脚本以获取富文本格式和执行粘贴操作
- `host_permissions`: 允许在网页中执行脚本以获取格式化内容

## 隐私说明

- 所有数据都存储在本地，不会发送到任何服务器
- 扩展不会收集任何个人信息 